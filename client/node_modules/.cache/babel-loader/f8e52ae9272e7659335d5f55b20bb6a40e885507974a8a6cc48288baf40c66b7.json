{"ast":null,"code":"var _jsxFileName = \"/Users/thpretre/WWW/photographe/client/src/components/PhotoForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './PhotoForm.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PhotoForm = () => {\n  _s();\n  const [formData, setFormData] = useState({\n    albumId: '',\n    photos: [{\n      src: '',\n      title: '',\n      description: ''\n    }]\n  });\n  const [albums, setAlbums] = useState([]);\n  const [errors, setErrors] = useState({});\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Load albums from localStorage\n    const savedAlbums = JSON.parse(localStorage.getItem('albumsData') || '[]');\n    setAlbums(savedAlbums);\n  }, []);\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n\n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n  const handlePhotoChange = (index, field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      photos: prev.photos.map((photo, i) => i === index ? {\n        ...photo,\n        [field]: value\n      } : photo)\n    }));\n\n    // Clear error when user starts typing\n    if (errors[`photo_${index}_${field}`]) {\n      setErrors(prev => ({\n        ...prev,\n        [`photo_${index}_${field}`]: ''\n      }));\n    }\n  };\n  const addPhotoField = () => {\n    setFormData(prev => ({\n      ...prev,\n      photos: [...prev.photos, {\n        src: '',\n        title: '',\n        description: ''\n      }]\n    }));\n  };\n  const removePhotoField = index => {\n    if (formData.photos.length > 1) {\n      setFormData(prev => ({\n        ...prev,\n        photos: prev.photos.filter((_, i) => i !== index)\n      }));\n    }\n  };\n  const validateForm = () => {\n    const newErrors = {};\n    if (!formData.albumId) {\n      newErrors.albumId = 'Veuillez sélectionner un album';\n    }\n    formData.photos.forEach((photo, index) => {\n      if (!photo.src.trim()) {\n        newErrors[`photo_${index}_src`] = 'L\\'URL de la photo est requise';\n      } else if (!isValidUrl(photo.src)) {\n        newErrors[`photo_${index}_src`] = 'L\\'URL de la photo n\\'est pas valide';\n      }\n    });\n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n  const isValidUrl = string => {\n    try {\n      new URL(string);\n      return true;\n    } catch (_) {\n      return false;\n    }\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!validateForm()) {\n      return;\n    }\n    const savedAlbums = JSON.parse(localStorage.getItem('albumsData') || '[]');\n\n    // Find the album and add all photos\n    const updatedAlbums = savedAlbums.map(album => {\n      if (album.id === formData.albumId) {\n        const newPhotos = formData.photos.map((photo, index) => ({\n          id: Date.now() + index,\n          // Unique ID generation\n          src: photo.src,\n          title: photo.title || '',\n          description: photo.description || ''\n        }));\n        return {\n          ...album,\n          photos: [...(album.photos || []), ...newPhotos],\n          photoCount: (album.photoCount || 0) + newPhotos.length\n        };\n      }\n      return album;\n    });\n    localStorage.setItem('albumsData', JSON.stringify(updatedAlbums));\n    navigate('/admin/dashboard');\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"photo-form-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"admin-header\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"header-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Ajouter des photos\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => navigate('/admin/dashboard'),\n            className: \"back-btn\",\n            children: \"Retour\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            className: \"photo-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"albumId\",\n                children: \"Album de destination *\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"albumId\",\n                name: \"albumId\",\n                value: formData.albumId,\n                onChange: handleChange,\n                className: errors.albumId ? 'error' : '',\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"S\\xE9lectionnez un album\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 19\n                }, this), albums.map(album => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: album.id,\n                  children: [album.title, \" (\", album.photoCount || 0, \" photos)\"]\n                }, album.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 21\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 151,\n                columnNumber: 17\n              }, this), errors.albumId && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"error-text\",\n                children: errors.albumId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 36\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 149,\n              columnNumber: 15\n            }, this), formData.photos.map((photo, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"photo-group\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"photo-group-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  children: [\"Photo \", index + 1]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 171,\n                  columnNumber: 21\n                }, this), formData.photos.length > 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => removePhotoField(index),\n                  className: \"remove-photo-btn\",\n                  children: \"Supprimer\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 173,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 170,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: `src_${index}`,\n                  children: \"URL de la photo *\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"url\",\n                  id: `src_${index}`,\n                  value: photo.src,\n                  onChange: e => handlePhotoChange(index, 'src', e.target.value),\n                  className: errors[`photo_${index}_src`] ? 'error' : '',\n                  placeholder: \"https://example.com/photo.jpg\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 185,\n                  columnNumber: 21\n                }, this), errors[`photo_${index}_src`] && /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"error-text\",\n                  children: errors[`photo_${index}_src`]\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 23\n                }, this), photo.src && isValidUrl(photo.src) && /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"image-preview\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: photo.src,\n                    alt: \"Aper\\xE7u\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 198,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 197,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: `title_${index}`,\n                  children: \"Titre de la photo (optionnel)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 204,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  id: `title_${index}`,\n                  value: photo.title,\n                  onChange: e => handlePhotoChange(index, 'title', e.target.value),\n                  placeholder: \"Titre de la photo\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 205,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 203,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: `description_${index}`,\n                  children: \"Description (optionnelle)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  id: `description_${index}`,\n                  value: photo.description,\n                  onChange: e => handlePhotoChange(index, 'description', e.target.value),\n                  placeholder: \"Description de la photo\",\n                  rows: \"3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 216,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 17\n            }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"add-photo-section\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: addPhotoField,\n                className: \"add-photo-field-btn\",\n                children: \"+ Ajouter une autre photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 228,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => navigate('/admin/dashboard'),\n                className: \"cancel-btn\",\n                children: \"Annuler\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"submit\",\n                className: \"submit-btn\",\n                children: [\"Ajouter \", formData.photos.length, \" photo\", formData.photos.length > 1 ? 's' : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 13\n          }, this), albums.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"no-albums-message\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Aucun album disponible. Vous devez d'abord cr\\xE9er un album avant d'ajouter des photos.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => navigate('/admin/albums/new'),\n              className: \"create-album-btn\",\n              children: \"Cr\\xE9er un album\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 130,\n    columnNumber: 5\n  }, this);\n};\n_s(PhotoForm, \"i8N/A4H7YBRZDz6yCQTOAEfLnBg=\", false, function () {\n  return [useNavigate];\n});\n_c = PhotoForm;\nexport default PhotoForm;\nvar _c;\n$RefreshReg$(_c, \"PhotoForm\");","map":{"version":3,"names":["React","useState","useEffect","useNavigate","jsxDEV","_jsxDEV","PhotoForm","_s","formData","setFormData","albumId","photos","src","title","description","albums","setAlbums","errors","setErrors","navigate","savedAlbums","JSON","parse","localStorage","getItem","handleChange","e","name","value","target","prev","handlePhotoChange","index","field","map","photo","i","addPhotoField","removePhotoField","length","filter","_","validateForm","newErrors","forEach","trim","isValidUrl","Object","keys","string","URL","handleSubmit","preventDefault","updatedAlbums","album","id","newPhotos","Date","now","photoCount","setItem","stringify","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","htmlFor","onChange","type","placeholder","alt","rows","_c","$RefreshReg$"],"sources":["/Users/thpretre/WWW/photographe/client/src/components/PhotoForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport './PhotoForm.css';\n\nconst PhotoForm = () => {\n  const [formData, setFormData] = useState({\n    albumId: '',\n    photos: [{ src: '', title: '', description: '' }]\n  });\n  const [albums, setAlbums] = useState([]);\n  const [errors, setErrors] = useState({});\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Load albums from localStorage\n    const savedAlbums = JSON.parse(localStorage.getItem('albumsData') || '[]');\n    setAlbums(savedAlbums);\n  }, []);\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n    \n    // Clear error when user starts typing\n    if (errors[name]) {\n      setErrors(prev => ({\n        ...prev,\n        [name]: ''\n      }));\n    }\n  };\n\n  const handlePhotoChange = (index, field, value) => {\n    setFormData(prev => ({\n      ...prev,\n      photos: prev.photos.map((photo, i) =>\n        i === index ? { ...photo, [field]: value } : photo\n      )\n    }));\n    \n    // Clear error when user starts typing\n    if (errors[`photo_${index}_${field}`]) {\n      setErrors(prev => ({\n        ...prev,\n        [`photo_${index}_${field}`]: ''\n      }));\n    }\n  };\n\n  const addPhotoField = () => {\n    setFormData(prev => ({\n      ...prev,\n      photos: [...prev.photos, { src: '', title: '', description: '' }]\n    }));\n  };\n\n  const removePhotoField = (index) => {\n    if (formData.photos.length > 1) {\n      setFormData(prev => ({\n        ...prev,\n        photos: prev.photos.filter((_, i) => i !== index)\n      }));\n    }\n  };\n\n  const validateForm = () => {\n    const newErrors = {};\n    \n    if (!formData.albumId) {\n      newErrors.albumId = 'Veuillez sélectionner un album';\n    }\n    \n    formData.photos.forEach((photo, index) => {\n      if (!photo.src.trim()) {\n        newErrors[`photo_${index}_src`] = 'L\\'URL de la photo est requise';\n      } else if (!isValidUrl(photo.src)) {\n        newErrors[`photo_${index}_src`] = 'L\\'URL de la photo n\\'est pas valide';\n      }\n    });\n    \n    setErrors(newErrors);\n    return Object.keys(newErrors).length === 0;\n  };\n\n  const isValidUrl = (string) => {\n    try {\n      new URL(string);\n      return true;\n    } catch (_) {\n      return false;\n    }\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    \n    if (!validateForm()) {\n      return;\n    }\n\n    const savedAlbums = JSON.parse(localStorage.getItem('albumsData') || '[]');\n    \n    // Find the album and add all photos\n    const updatedAlbums = savedAlbums.map(album => {\n      if (album.id === formData.albumId) {\n        const newPhotos = formData.photos.map((photo, index) => ({\n          id: Date.now() + index, // Unique ID generation\n          src: photo.src,\n          title: photo.title || '',\n          description: photo.description || ''\n        }));\n        \n        return {\n          ...album,\n          photos: [...(album.photos || []), ...newPhotos],\n          photoCount: (album.photoCount || 0) + newPhotos.length\n        };\n      }\n      return album;\n    });\n    \n    localStorage.setItem('albumsData', JSON.stringify(updatedAlbums));\n    navigate('/admin/dashboard');\n  };\n\n  return (\n    <div className=\"photo-form-page\">\n      <div className=\"admin-header\">\n        <div className=\"container\">\n          <div className=\"header-content\">\n            <h1>Ajouter des photos</h1>\n            <button \n              onClick={() => navigate('/admin/dashboard')} \n              className=\"back-btn\"\n            >\n              Retour\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"form-content\">\n        <div className=\"container\">\n          <div className=\"form-container\">\n            <form onSubmit={handleSubmit} className=\"photo-form\">\n              <div className=\"form-group\">\n                <label htmlFor=\"albumId\">Album de destination *</label>\n                <select\n                  id=\"albumId\"\n                  name=\"albumId\"\n                  value={formData.albumId}\n                  onChange={handleChange}\n                  className={errors.albumId ? 'error' : ''}\n                >\n                  <option value=\"\">Sélectionnez un album</option>\n                  {albums.map(album => (\n                    <option key={album.id} value={album.id}>\n                      {album.title} ({album.photoCount || 0} photos)\n                    </option>\n                  ))}\n                </select>\n                {errors.albumId && <span className=\"error-text\">{errors.albumId}</span>}\n              </div>\n\n              {formData.photos.map((photo, index) => (\n                <div key={index} className=\"photo-group\">\n                  <div className=\"photo-group-header\">\n                    <h3>Photo {index + 1}</h3>\n                    {formData.photos.length > 1 && (\n                      <button\n                        type=\"button\"\n                        onClick={() => removePhotoField(index)}\n                        className=\"remove-photo-btn\"\n                      >\n                        Supprimer\n                      </button>\n                    )}\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label htmlFor={`src_${index}`}>URL de la photo *</label>\n                    <input\n                      type=\"url\"\n                      id={`src_${index}`}\n                      value={photo.src}\n                      onChange={(e) => handlePhotoChange(index, 'src', e.target.value)}\n                      className={errors[`photo_${index}_src`] ? 'error' : ''}\n                      placeholder=\"https://example.com/photo.jpg\"\n                    />\n                    {errors[`photo_${index}_src`] && (\n                      <span className=\"error-text\">{errors[`photo_${index}_src`]}</span>\n                    )}\n                    {photo.src && isValidUrl(photo.src) && (\n                      <div className=\"image-preview\">\n                        <img src={photo.src} alt=\"Aperçu\" />\n                      </div>\n                    )}\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label htmlFor={`title_${index}`}>Titre de la photo (optionnel)</label>\n                    <input\n                      type=\"text\"\n                      id={`title_${index}`}\n                      value={photo.title}\n                      onChange={(e) => handlePhotoChange(index, 'title', e.target.value)}\n                      placeholder=\"Titre de la photo\"\n                    />\n                  </div>\n\n                  <div className=\"form-group\">\n                    <label htmlFor={`description_${index}`}>Description (optionnelle)</label>\n                    <textarea\n                      id={`description_${index}`}\n                      value={photo.description}\n                      onChange={(e) => handlePhotoChange(index, 'description', e.target.value)}\n                      placeholder=\"Description de la photo\"\n                      rows=\"3\"\n                    />\n                  </div>\n                </div>\n              ))}\n\n              <div className=\"add-photo-section\">\n                <button\n                  type=\"button\"\n                  onClick={addPhotoField}\n                  className=\"add-photo-field-btn\"\n                >\n                  + Ajouter une autre photo\n                </button>\n              </div>\n\n              <div className=\"form-actions\">\n                <button \n                  type=\"button\" \n                  onClick={() => navigate('/admin/dashboard')}\n                  className=\"cancel-btn\"\n                >\n                  Annuler\n                </button>\n                <button type=\"submit\" className=\"submit-btn\">\n                  Ajouter {formData.photos.length} photo{formData.photos.length > 1 ? 's' : ''}\n                </button>\n              </div>\n            </form>\n\n            {albums.length === 0 && (\n              <div className=\"no-albums-message\">\n                <p>Aucun album disponible. Vous devez d'abord créer un album avant d'ajouter des photos.</p>\n                <button \n                  onClick={() => navigate('/admin/albums/new')}\n                  className=\"create-album-btn\"\n                >\n                  Créer un album\n                </button>\n              </div>\n            )}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default PhotoForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}