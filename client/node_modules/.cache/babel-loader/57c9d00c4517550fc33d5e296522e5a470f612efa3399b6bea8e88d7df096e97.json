{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link,useNavigate}from'react-router-dom';import{getGalleryAlbums}from'../data/albums';import'./AdminDashboard.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const AdminDashboard=_ref=>{let{onLogout}=_ref;const[albums,setAlbums]=useState([]);const[stats,setStats]=useState({totalAlbums:0,totalPhotos:0,categories:{}});const navigate=useNavigate();useEffect(()=>{loadData();},[]);const loadData=()=>{const albumsData=getGalleryAlbums();setAlbums(albumsData);// Calculate stats\nconst totalPhotos=albumsData.reduce((sum,album)=>sum+album.photoCount,0);const categories=albumsData.reduce((acc,album)=>{acc[album.category]=(acc[album.category]||0)+1;return acc;},{});setStats({totalAlbums:albumsData.length,totalPhotos,categories});};const handleLogout=()=>{localStorage.removeItem('isAdminAuthenticated');onLogout(false);navigate('/admin');};return/*#__PURE__*/_jsxs(\"div\",{className:\"admin-dashboard\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"admin-header\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"header-content\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Administration\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"header-actions\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"view-site-btn\",children:\"Voir le site\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleLogout,className:\"logout-btn\",children:\"D\\xE9connexion\"})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"admin-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stats-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDCC1\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.totalAlbums}),/*#__PURE__*/_jsx(\"p\",{children:\"Albums\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83D\\uDCF8\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:stats.totalPhotos}),/*#__PURE__*/_jsx(\"p\",{children:\"Photos\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"stat-icon\",children:\"\\uD83C\\uDFF7\\uFE0F\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"stat-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:Object.keys(stats.categories).length}),/*#__PURE__*/_jsx(\"p\",{children:\"Cat\\xE9gories\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"quick-actions\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Actions rapides\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"actions-grid\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/admin/albums/new\",className:\"action-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-icon\",children:\"\\u2795\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Nouvel Album\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Cr\\xE9er un nouvel album photo\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/admin/photos/new\",className:\"action-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-icon\",children:\"\\uD83D\\uDDBC\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Ajouter Photo\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Ajouter une photo \\xE0 un album\"})]}),/*#__PURE__*/_jsxs(Link,{to:\"/admin/albums\",className:\"action-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-icon\",children:\"\\uD83D\\uDCCB\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"G\\xE9rer Albums\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Modifier ou supprimer des albums\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"action-card info-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"action-icon\",children:\"\\u2139\\uFE0F\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Information\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Interface simplifi\\xE9e - modifications directes dans le code\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"recent-albums\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"section-header\",children:/*#__PURE__*/_jsx(\"h2\",{children:\"Tous les albums\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"albums-grid\",children:albums.map(album=>/*#__PURE__*/_jsxs(\"div\",{className:\"album-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"album-image\",children:/*#__PURE__*/_jsx(\"img\",{src:album.coverImage,alt:album.title})}),/*#__PURE__*/_jsxs(\"div\",{className:\"album-info\",children:[/*#__PURE__*/_jsx(\"h3\",{children:album.title}),/*#__PURE__*/_jsx(\"p\",{className:\"album-category\",children:album.category}),/*#__PURE__*/_jsxs(\"p\",{className:\"album-count\",children:[album.photoCount,\" photos\"]}),/*#__PURE__*/_jsxs(\"p\",{className:\"album-sort-order\",children:[\"Ordre: \",album.sortOrder||0]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"album-actions\",children:[/*#__PURE__*/_jsx(Link,{to:\"/album/\".concat(album.id),className:\"view-btn\",children:\"Voir\"}),/*#__PURE__*/_jsx(\"span\",{className:\"edit-note\",children:\"\\xC9dition dans le code\"})]})]},album.id))})]})]})})]});};export default AdminDashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","useNavigate","getGalleryAlbums","jsx","_jsx","jsxs","_jsxs","AdminDashboard","_ref","onLogout","albums","setAlbums","stats","setStats","totalAlbums","totalPhotos","categories","navigate","loadData","albumsData","reduce","sum","album","photoCount","acc","category","length","handleLogout","localStorage","removeItem","className","children","to","onClick","Object","keys","map","src","coverImage","alt","title","sortOrder","concat","id"],"sources":["/Users/thpretre/WWW/photographe/client/src/components/AdminDashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { getGalleryAlbums } from '../data/albums';\nimport './AdminDashboard.css';\n\nconst AdminDashboard = ({ onLogout }) => {\n  const [albums, setAlbums] = useState([]);\n  const [stats, setStats] = useState({\n    totalAlbums: 0,\n    totalPhotos: 0,\n    categories: {}\n  });\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    loadData();\n  }, []);\n\n  const loadData = () => {\n    const albumsData = getGalleryAlbums();\n    setAlbums(albumsData);\n    \n    // Calculate stats\n    const totalPhotos = albumsData.reduce((sum, album) => sum + album.photoCount, 0);\n    const categories = albumsData.reduce((acc, album) => {\n      acc[album.category] = (acc[album.category] || 0) + 1;\n      return acc;\n    }, {});\n    \n    setStats({\n      totalAlbums: albumsData.length,\n      totalPhotos,\n      categories\n    });\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem('isAdminAuthenticated');\n    onLogout(false);\n    navigate('/admin');\n  };\n\n  return (\n    <div className=\"admin-dashboard\">\n      <div className=\"admin-header\">\n        <div className=\"container\">\n          <div className=\"header-content\">\n            <h1>Administration</h1>\n            <div className=\"header-actions\">\n              <Link to=\"/\" className=\"view-site-btn\">Voir le site</Link>\n              <button onClick={handleLogout} className=\"logout-btn\">D√©connexion</button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"admin-content\">\n        <div className=\"container\">\n          {/* Stats Cards */}\n          <div className=\"stats-grid\">\n            <div className=\"stat-card\">\n              <div className=\"stat-icon\">üìÅ</div>\n              <div className=\"stat-info\">\n                <h3>{stats.totalAlbums}</h3>\n                <p>Albums</p>\n              </div>\n            </div>\n            <div className=\"stat-card\">\n              <div className=\"stat-icon\">üì∏</div>\n              <div className=\"stat-info\">\n                <h3>{stats.totalPhotos}</h3>\n                <p>Photos</p>\n              </div>\n            </div>\n            <div className=\"stat-card\">\n              <div className=\"stat-icon\">üè∑Ô∏è</div>\n              <div className=\"stat-info\">\n                <h3>{Object.keys(stats.categories).length}</h3>\n                <p>Cat√©gories</p>\n              </div>\n            </div>\n          </div>\n\n          {/* Quick Actions */}\n          <div className=\"quick-actions\">\n            <h2>Actions rapides</h2>\n            <div className=\"actions-grid\">\n              <Link to=\"/admin/albums/new\" className=\"action-card\">\n                <div className=\"action-icon\">‚ûï</div>\n                <h3>Nouvel Album</h3>\n                <p>Cr√©er un nouvel album photo</p>\n              </Link>\n              <Link to=\"/admin/photos/new\" className=\"action-card\">\n                <div className=\"action-icon\">üñºÔ∏è</div>\n                <h3>Ajouter Photo</h3>\n                <p>Ajouter une photo √† un album</p>\n              </Link>\n              <Link to=\"/admin/albums\" className=\"action-card\">\n                <div className=\"action-icon\">üìã</div>\n                <h3>G√©rer Albums</h3>\n                <p>Modifier ou supprimer des albums</p>\n              </Link>\n              <div className=\"action-card info-card\">\n                <div className=\"action-icon\">‚ÑπÔ∏è</div>\n                <h3>Information</h3>\n                <p>Interface simplifi√©e - modifications directes dans le code</p>\n              </div>\n            </div>\n          </div>\n\n          {/* All Albums */}\n          <div className=\"recent-albums\">\n            <div className=\"section-header\">\n              <h2>Tous les albums</h2>\n            </div>\n            <div className=\"albums-grid\">\n              {albums.map(album => (\n                <div key={album.id} className=\"album-card\">\n                  <div className=\"album-image\">\n                    <img src={album.coverImage} alt={album.title} />\n                  </div>\n                  <div className=\"album-info\">\n                    <h3>{album.title}</h3>\n                    <p className=\"album-category\">{album.category}</p>\n                    <p className=\"album-count\">{album.photoCount} photos</p>\n                    <p className=\"album-sort-order\">Ordre: {album.sortOrder || 0}</p>\n                  </div>\n                  <div className=\"album-actions\">\n                    <Link to={`/album/${album.id}`} className=\"view-btn\">\n                      Voir\n                    </Link>\n                    <span className=\"edit-note\">\n                      √âdition dans le code\n                    </span>\n                  </div>\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AdminDashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}