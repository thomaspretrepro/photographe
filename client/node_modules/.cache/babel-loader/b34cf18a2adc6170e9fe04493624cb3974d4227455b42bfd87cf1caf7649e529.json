{"ast":null,"code":"import React,{useState,useEffect}from'react';import{BrowserRouter as Router,Routes,Route,Navigate}from'react-router-dom';import'./App.css';// Components\nimport Home from'./components/Home';import Gallery from'./components/Gallery';import AlbumDetail from'./components/AlbumDetail';import About from'./components/About';import Contact from'./components/Contact';import Legal from'./components/Legal';// Admin Components\nimport AdminLogin from'./components/AdminLogin';import AdminDashboard from'./components/AdminDashboard';import AlbumForm from'./components/AlbumForm';import PhotoForm from'./components/PhotoForm';import PhotoManager from'./components/PhotoManager';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[isMenuOpen,setIsMenuOpen]=useState(false);const[isAdminAuthenticated,setIsAdminAuthenticated]=useState(false);useEffect(()=>{// Check if admin is already authenticated\nconst authStatus=localStorage.getItem('isAdminAuthenticated');setIsAdminAuthenticated(authStatus==='true');},[]);const toggleMenu=()=>{setIsMenuOpen(!isMenuOpen);};const closeMenu=()=>{setIsMenuOpen(false);};const handleAdminLogin=status=>{setIsAdminAuthenticated(status);};const handleAdminLogout=status=>{setIsAdminAuthenticated(status);};// Protected Route Component\nconst ProtectedRoute=_ref=>{let{children}=_ref;return isAdminAuthenticated?children:/*#__PURE__*/_jsx(Navigate,{to:\"/admin\",replace:true});};return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(\"header\",{className:\"App-header\",children:/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"nav-brand\",children:/*#__PURE__*/_jsx(\"a\",{href:\"index.html\",onClick:closeMenu,children:\"Thomas Pr\\xEAtre\"})}),/*#__PURE__*/_jsxs(\"button\",{className:\"hamburger-menu\",onClick:toggleMenu,\"aria-label\":\"Toggle menu\",\"aria-expanded\":isMenuOpen,children:[/*#__PURE__*/_jsx(\"span\",{className:\"hamburger-line \".concat(isMenuOpen?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"hamburger-line \".concat(isMenuOpen?'active':'')}),/*#__PURE__*/_jsx(\"span\",{className:\"hamburger-line \".concat(isMenuOpen?'active':'')})]}),/*#__PURE__*/_jsxs(\"ul\",{className:\"nav-menu \".concat(isMenuOpen?'active':''),children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"index.html\",onClick:closeMenu,children:\"Accueil\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"gallery.html\",onClick:closeMenu,children:\"Galerie\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"about.html\",onClick:closeMenu,children:\"\\xC0 propos\"})}),/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"contact.html\",onClick:closeMenu,children:\"Contact\"})})]})]})}),/*#__PURE__*/_jsx(\"main\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Home,{})}),/*#__PURE__*/_jsx(Route,{path:\"/gallery\",element:/*#__PURE__*/_jsx(Gallery,{})}),/*#__PURE__*/_jsx(Route,{path:\"/gallery/:albumId\",element:/*#__PURE__*/_jsx(AlbumDetail,{})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/contact\",element:/*#__PURE__*/_jsx(Contact,{})}),/*#__PURE__*/_jsx(Route,{path:\"/legal\",element:/*#__PURE__*/_jsx(Legal,{})}),/*#__PURE__*/_jsx(Route,{path:\"/admin\",element:isAdminAuthenticated?/*#__PURE__*/_jsx(Navigate,{to:\"/admin/dashboard\",replace:true}):/*#__PURE__*/_jsx(AdminLogin,{onLogin:handleAdminLogin})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/dashboard\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AdminDashboard,{onLogout:handleAdminLogout})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/albums/new\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AlbumForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/albums/:albumId/edit\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(AlbumForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/photos/new\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(PhotoForm,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/admin/albums/:albumId/photos\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(PhotoManager,{})})})]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"footer-content\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\xA9 2025 Thomas Pr\\xEAtre Photography. Tous droits r\\xE9serv\\xE9s.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"footer-links\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"legal.html\",children:\"Mentions l\\xE9gales\"}),/*#__PURE__*/_jsx(\"a\",{href:\"admin.html\",className:\"admin-link\",children:\"Administration\"})]})]})})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Home","Gallery","AlbumDetail","About","Contact","Legal","AdminLogin","AdminDashboard","AlbumForm","PhotoForm","PhotoManager","jsx","_jsx","jsxs","_jsxs","App","isMenuOpen","setIsMenuOpen","isAdminAuthenticated","setIsAdminAuthenticated","authStatus","localStorage","getItem","toggleMenu","closeMenu","handleAdminLogin","status","handleAdminLogout","ProtectedRoute","_ref","children","to","replace","className","href","onClick","concat","path","element","onLogin","onLogout"],"sources":["/Users/thpretre/WWW/photographe/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { BrowserRouter as Router, Routes, Route, Navigate } from 'react-router-dom';\nimport './App.css';\n\n// Components\nimport Home from './components/Home';\nimport Gallery from './components/Gallery';\nimport AlbumDetail from './components/AlbumDetail';\nimport About from './components/About';\nimport Contact from './components/Contact';\nimport Legal from './components/Legal';\n\n// Admin Components\nimport AdminLogin from './components/AdminLogin';\nimport AdminDashboard from './components/AdminDashboard';\nimport AlbumForm from './components/AlbumForm';\nimport PhotoForm from './components/PhotoForm';\nimport PhotoManager from './components/PhotoManager';\n\nfunction App() {\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [isAdminAuthenticated, setIsAdminAuthenticated] = useState(false);\n\n  useEffect(() => {\n    // Check if admin is already authenticated\n    const authStatus = localStorage.getItem('isAdminAuthenticated');\n    setIsAdminAuthenticated(authStatus === 'true');\n  }, []);\n\n  const toggleMenu = () => {\n    setIsMenuOpen(!isMenuOpen);\n  };\n\n  const closeMenu = () => {\n    setIsMenuOpen(false);\n  };\n\n  const handleAdminLogin = (status) => {\n    setIsAdminAuthenticated(status);\n  };\n\n  const handleAdminLogout = (status) => {\n    setIsAdminAuthenticated(status);\n  };\n\n  // Protected Route Component\n  const ProtectedRoute = ({ children }) => {\n    return isAdminAuthenticated ? children : <Navigate to=\"/admin\" replace />;\n  };\n\n  return (\n    <Router>\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <nav className=\"navbar\">\n            <div className=\"nav-brand\">\n              {/* <Link to=\"/photographe\" onClick={closeMenu}>Thomas Prêtre</Link> */}\n              <a href=\"index.html\" onClick={closeMenu}>Thomas Prêtre</a>\n            </div>\n            <button\n              className=\"hamburger-menu\"\n              onClick={toggleMenu}\n              aria-label=\"Toggle menu\"\n              aria-expanded={isMenuOpen}\n            >\n              <span className={`hamburger-line ${isMenuOpen ? 'active' : ''}`}></span>\n              <span className={`hamburger-line ${isMenuOpen ? 'active' : ''}`}></span>\n              <span className={`hamburger-line ${isMenuOpen ? 'active' : ''}`}></span>\n            </button>\n            <ul className={`nav-menu ${isMenuOpen ? 'active' : ''}`}>\n              {/* <li><Link to=\"/photographe\" onClick={closeMenu}>Accueil</Link></li> */}\n              <li><a href=\"index.html\" onClick={closeMenu}>Accueil</a></li>\n              <li><a href=\"gallery.html\" onClick={closeMenu}>Galerie</a></li>\n              <li><a href=\"about.html\" onClick={closeMenu}>À propos</a></li>\n              <li><a href=\"contact.html\" onClick={closeMenu}>Contact</a></li>\n            </ul>\n          </nav>\n        </header>\n\n        <main>\n          <Routes>\n            {/* Public Routes */}\n            <Route path=\"/\" element={<Home />} />\n            {/* <Route path=\"/photographe\" element={<Home />} /> */}\n            <Route path=\"/gallery\" element={<Gallery />} />\n            <Route path=\"/gallery/:albumId\" element={<AlbumDetail />} />\n            <Route path=\"/about\" element={<About />} />\n            <Route path=\"/contact\" element={<Contact />} />\n            <Route path=\"/legal\" element={<Legal />} />\n            \n            {/* Admin Routes */}\n            <Route\n              path=\"/admin\"\n              element={\n                isAdminAuthenticated ?\n                <Navigate to=\"/admin/dashboard\" replace /> :\n                <AdminLogin onLogin={handleAdminLogin} />\n              }\n            />\n            <Route\n              path=\"/admin/dashboard\"\n              element={\n                <ProtectedRoute>\n                  <AdminDashboard onLogout={handleAdminLogout} />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/admin/albums/new\"\n              element={\n                <ProtectedRoute>\n                  <AlbumForm />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/admin/albums/:albumId/edit\"\n              element={\n                <ProtectedRoute>\n                  <AlbumForm />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/admin/photos/new\"\n              element={\n                <ProtectedRoute>\n                  <PhotoForm />\n                </ProtectedRoute>\n              }\n            />\n            <Route\n              path=\"/admin/albums/:albumId/photos\"\n              element={\n                <ProtectedRoute>\n                  <PhotoManager />\n                </ProtectedRoute>\n              }\n            />\n          </Routes>\n        </main>\n\n        <footer className=\"footer\">\n          <div className=\"footer-content\">\n            <p>&copy; 2025 Thomas Prêtre Photography. Tous droits réservés.</p>\n            <div className=\"footer-links\">\n              <a href=\"legal.html\">Mentions légales</a>\n              <a href=\"admin.html\" className=\"admin-link\">Administration</a>\n            </div>\n          </div>\n        </footer>\n      </div>\n    </Router>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}