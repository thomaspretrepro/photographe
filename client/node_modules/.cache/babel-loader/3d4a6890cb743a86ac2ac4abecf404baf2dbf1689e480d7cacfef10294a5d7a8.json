{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams,Link}from'react-router-dom';import{getAlbumById}from'../data/albums';import'./AlbumDetail.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const AlbumDetail=()=>{const{albumId}=useParams();const[lightboxImage,setLightboxImage]=useState(null);const[currentImageIndex,setCurrentImageIndex]=useState(0);// Get album data from shared source\nconst album=getAlbumById(albumId);const openLightbox=(photo,index)=>{setLightboxImage(photo);setCurrentImageIndex(index);};const closeLightbox=()=>{setLightboxImage(null);};const nextImage=e=>{if(e)e.stopPropagation();if(!album)return;const nextIndex=(currentImageIndex+1)%album.photos.length;setCurrentImageIndex(nextIndex);setLightboxImage(album.photos[nextIndex]);};const prevImage=e=>{if(e)e.stopPropagation();if(!album)return;const prevIndex=(currentImageIndex-1+album.photos.length)%album.photos.length;setCurrentImageIndex(prevIndex);setLightboxImage(album.photos[prevIndex]);};// Keyboard navigation\nuseEffect(()=>{const handleKeyPress=e=>{if(!lightboxImage||!album)return;if(e.key==='ArrowRight'){nextImage();}else if(e.key==='ArrowLeft'){prevImage();}else if(e.key==='Escape'){closeLightbox();}};document.addEventListener('keydown',handleKeyPress);return()=>document.removeEventListener('keydown',handleKeyPress);},[lightboxImage,currentImageIndex,album]);if(!album){return/*#__PURE__*/_jsx(\"div\",{className:\"album-detail\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Album non trouv\\xE9\"}),/*#__PURE__*/_jsx(Link,{to:\"/gallery\",className:\"back-btn\",children:\"Retour \\xE0 la galerie\"})]})});}return/*#__PURE__*/_jsx(\"div\",{className:\"album-detail\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"album-header\",children:[/*#__PURE__*/_jsx(Link,{to:\"/gallery\",className:\"back-btn\",children:\"\\u2190 Retour \\xE0 la galerie\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"album-info\",children:[/*#__PURE__*/_jsx(\"h1\",{children:album.title}),/*#__PURE__*/_jsx(\"p\",{children:album.description})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"album-grid\",children:album.photos.map((photo,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"album-item\",onClick:()=>openLightbox(photo,index),children:[/*#__PURE__*/_jsx(\"img\",{src:photo.src,alt:photo.title}),(photo.title||photo.description)&&/*#__PURE__*/_jsxs(\"div\",{className:\"album-overlay\",children:[photo.title&&/*#__PURE__*/_jsx(\"h3\",{children:photo.title}),photo.description&&/*#__PURE__*/_jsx(\"p\",{children:photo.description})]})]},photo.id))}),lightboxImage&&/*#__PURE__*/_jsx(\"div\",{className:\"lightbox\",onClick:closeLightbox,children:/*#__PURE__*/_jsxs(\"div\",{className:\"lightbox-content\",onClick:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{className:\"lightbox-close\",onClick:closeLightbox,children:\"\\xD7\"}),album.photos.length>1&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"button\",{className:\"lightbox-nav prev\",onClick:prevImage,title:\"Photo pr\\xE9c\\xE9dente (\\u2190)\",children:\"\\u2039\"}),/*#__PURE__*/_jsx(\"button\",{className:\"lightbox-nav next\",onClick:nextImage,title:\"Photo suivante (\\u2192)\",children:\"\\u203A\"})]}),/*#__PURE__*/_jsx(\"img\",{src:lightboxImage.src,alt:lightboxImage.title}),(lightboxImage.title||lightboxImage.description)&&/*#__PURE__*/_jsxs(\"div\",{className:\"lightbox-info\",children:[lightboxImage.title&&/*#__PURE__*/_jsx(\"h3\",{children:lightboxImage.title}),lightboxImage.description&&/*#__PURE__*/_jsx(\"p\",{children:lightboxImage.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"lightbox-controls\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"image-counter\",children:[currentImageIndex+1,\" / \",album.photos.length]}),album.photos.length>1&&/*#__PURE__*/_jsx(\"span\",{className:\"navigation-hint\",children:\"Utilisez \\u2190 \\u2192 ou cliquez sur les fl\\xE8ches pour naviguer\"})]})]})]})})]})});};export default AlbumDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","Link","getAlbumById","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","AlbumDetail","albumId","lightboxImage","setLightboxImage","currentImageIndex","setCurrentImageIndex","album","openLightbox","photo","index","closeLightbox","nextImage","e","stopPropagation","nextIndex","photos","length","prevImage","prevIndex","handleKeyPress","key","document","addEventListener","removeEventListener","className","children","to","title","description","map","onClick","src","alt","id"],"sources":["/Users/thpretre/WWW/photographe/client/src/components/AlbumDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { getAlbumById } from '../data/albums';\nimport './AlbumDetail.css';\n\nconst AlbumDetail = () => {\n  const { albumId } = useParams();\n  const [lightboxImage, setLightboxImage] = useState(null);\n  const [currentImageIndex, setCurrentImageIndex] = useState(0);\n\n  // Get album data from shared source\n  const album = getAlbumById(albumId);\n\n  const openLightbox = (photo, index) => {\n    setLightboxImage(photo);\n    setCurrentImageIndex(index);\n  };\n\n  const closeLightbox = () => {\n    setLightboxImage(null);\n  };\n\n  const nextImage = (e) => {\n    if (e) e.stopPropagation();\n    if (!album) return;\n    const nextIndex = (currentImageIndex + 1) % album.photos.length;\n    setCurrentImageIndex(nextIndex);\n    setLightboxImage(album.photos[nextIndex]);\n  };\n\n  const prevImage = (e) => {\n    if (e) e.stopPropagation();\n    if (!album) return;\n    const prevIndex = (currentImageIndex - 1 + album.photos.length) % album.photos.length;\n    setCurrentImageIndex(prevIndex);\n    setLightboxImage(album.photos[prevIndex]);\n  };\n\n  // Keyboard navigation\n  useEffect(() => {\n    const handleKeyPress = (e) => {\n      if (!lightboxImage || !album) return;\n      \n      if (e.key === 'ArrowRight') {\n        nextImage();\n      } else if (e.key === 'ArrowLeft') {\n        prevImage();\n      } else if (e.key === 'Escape') {\n        closeLightbox();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyPress);\n    return () => document.removeEventListener('keydown', handleKeyPress);\n  }, [lightboxImage, currentImageIndex, album]);\n\n  if (!album) {\n    return (\n      <div className=\"album-detail\">\n        <div className=\"container\">\n          <h1>Album non trouvé</h1>\n          <Link to=\"/gallery\" className=\"back-btn\">Retour à la galerie</Link>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"album-detail\">\n      <div className=\"container\">\n        {/* Header */}\n        <div className=\"album-header\">\n          <Link to=\"/gallery\" className=\"back-btn\">\n            ← Retour à la galerie\n          </Link>\n          <div className=\"album-info\">\n            {/* <span className=\"album-category\">{album.category}</span> */}\n            <h1>{album.title}</h1>\n            <p>{album.description}</p>\n            {/* <div className=\"album-stats\">\n              <span>{album.photos.length} photos</span>\n            </div> */}\n          </div>\n        </div>\n\n        {/* Photos Grid */}\n        <div className=\"album-grid\">\n          {album.photos.map((photo, index) => (\n            <div \n              key={photo.id} \n              className=\"album-item\"\n              onClick={() => openLightbox(photo, index)}\n            >\n              <img src={photo.src} alt={photo.title} />\n              {(photo.title || photo.description) && (\n                <div className=\"album-overlay\">\n                  {photo.title && <h3>{photo.title}</h3>}\n                  {photo.description && <p>{photo.description}</p>}\n                </div>\n              )}\n            </div>\n          ))}\n        </div>\n\n        {/* Lightbox */}\n        {lightboxImage && (\n          <div className=\"lightbox\" onClick={closeLightbox}>\n            <div className=\"lightbox-content\" onClick={e => e.stopPropagation()}>\n              <button className=\"lightbox-close\" onClick={closeLightbox}>×</button>\n              \n              {/* Navigation Buttons - More Visible */}\n              {album.photos.length > 1 && (\n                <>\n                  <button\n                    className=\"lightbox-nav prev\"\n                    onClick={prevImage}\n                    title=\"Photo précédente (←)\"\n                  >\n                    ‹\n                  </button>\n                  <button\n                    className=\"lightbox-nav next\"\n                    onClick={nextImage}\n                    title=\"Photo suivante (→)\"\n                  >\n                    ›\n                  </button>\n                </>\n              )}\n              \n              <img src={lightboxImage.src} alt={lightboxImage.title} />\n              \n              {(lightboxImage.title || lightboxImage.description) && (\n                <div className=\"lightbox-info\">\n                  {lightboxImage.title && <h3>{lightboxImage.title}</h3>}\n                  {lightboxImage.description && <p>{lightboxImage.description}</p>}\n                  <div className=\"lightbox-controls\">\n                    <span className=\"image-counter\">\n                      {currentImageIndex + 1} / {album.photos.length}\n                    </span>\n                    {album.photos.length > 1 && (\n                      <span className=\"navigation-hint\">\n                        Utilisez ← → ou cliquez sur les flèches pour naviguer\n                      </span>\n                    )}\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AlbumDetail;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}