{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{getGalleryAlbums}from'../data/albums';import'./Gallery.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Gallery=()=>{const[selectedCategory,setSelectedCategory]=useState('all');const[categories,setCategories]=useState([]);// Get albums data from shared source\nconst albums=getGalleryAlbums();// Function to get dynamic categories from existing albums\nconst getDynamicCategories=()=>{const savedAlbums=JSON.parse(localStorage.getItem('albumsData')||'[]');const existingCategories=[...new Set(savedAlbums.map(album=>album.category))];// Default category labels mapping\nconst categoryLabels={'portrait':'Portraits','landscape':'Paysages','concerts':'Concerts','essais':'Essais','event':'Événements'};// Start with \"All\" category\nconst dynamicCategories=[{key:'all',label:'Tous les Albums'}];// Add existing categories with proper labels\nexistingCategories.forEach(category=>{if(category){const label=categoryLabels[category]||category.charAt(0).toUpperCase()+category.slice(1);dynamicCategories.push({key:category,label});}});return dynamicCategories;};// Update categories when component mounts or albums change\nuseEffect(()=>{setCategories(getDynamicCategories());},[albums]);const filteredAlbums=selectedCategory==='all'?albums:albums.filter(album=>album.category===selectedCategory);return/*#__PURE__*/_jsx(\"div\",{className:\"gallery\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"gallery-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Galerie\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Explorez mes collections photographiques organis\\xE9es par th\\xE8me\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"gallery-filters\",children:categories.map(category=>/*#__PURE__*/_jsx(\"button\",{className:\"filter-btn \".concat(selectedCategory===category.key?'active':''),onClick:()=>setSelectedCategory(category.key),children:category.label},category.key))}),/*#__PURE__*/_jsx(\"div\",{className:\"gallery-grid\",children:filteredAlbums.map(album=>/*#__PURE__*/_jsxs(Link,{to:\"/gallery/\".concat(album.id),className:\"gallery-item album-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:album.coverImage,alt:album.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"gallery-overlay\",children:[/*#__PURE__*/_jsx(\"h3\",{children:album.title}),/*#__PURE__*/_jsx(\"p\",{children:album.description}),/*#__PURE__*/_jsxs(\"span\",{className:\"photo-count\",children:[album.photoCount,\" photos\"]})]})]},album.id))})]})});};export default Gallery;","map":{"version":3,"names":["React","useState","useEffect","Link","getGalleryAlbums","jsx","_jsx","jsxs","_jsxs","Gallery","selectedCategory","setSelectedCategory","categories","setCategories","albums","getDynamicCategories","savedAlbums","JSON","parse","localStorage","getItem","existingCategories","Set","map","album","category","categoryLabels","dynamicCategories","key","label","forEach","charAt","toUpperCase","slice","push","filteredAlbums","filter","className","children","concat","onClick","to","id","src","coverImage","alt","title","description","photoCount"],"sources":["/Users/thpretre/WWW/photographe/client/src/components/Gallery.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { getGalleryAlbums } from '../data/albums';\nimport './Gallery.css';\n\nconst Gallery = () => {\n  const [selectedCategory, setSelectedCategory] = useState('all');\n  const [categories, setCategories] = useState([]);\n\n  // Get albums data from shared source\n  const albums = getGalleryAlbums();\n\n  // Function to get dynamic categories from existing albums\n  const getDynamicCategories = () => {\n    const savedAlbums = JSON.parse(localStorage.getItem('albumsData') || '[]');\n    const existingCategories = [...new Set(savedAlbums.map(album => album.category))];\n    \n    // Default category labels mapping\n    const categoryLabels = {\n      'portrait': 'Portraits',\n      'landscape': 'Paysages',\n      'concerts': 'Concerts',\n      'essais': 'Essais',\n      'event': 'Événements'\n    };\n    \n    // Start with \"All\" category\n    const dynamicCategories = [{ key: 'all', label: 'Tous les Albums' }];\n    \n    // Add existing categories with proper labels\n    existingCategories.forEach(category => {\n      if (category) {\n        const label = categoryLabels[category] || category.charAt(0).toUpperCase() + category.slice(1);\n        dynamicCategories.push({ key: category, label });\n      }\n    });\n    \n    return dynamicCategories;\n  };\n\n  // Update categories when component mounts or albums change\n  useEffect(() => {\n    setCategories(getDynamicCategories());\n  }, [albums]);\n\n  const filteredAlbums = selectedCategory === 'all'\n    ? albums\n    : albums.filter(album => album.category === selectedCategory);\n\n  return (\n    <div className=\"gallery\">\n      <div className=\"container\">\n        <div className=\"gallery-header\">\n          <h1>Galerie</h1>\n          <p>Explorez mes collections photographiques organisées par thème</p>\n        </div>\n\n        {/* Filtres */}\n        <div className=\"gallery-filters\">\n          {categories.map(category => (\n            <button\n              key={category.key}\n              className={`filter-btn ${selectedCategory === category.key ? 'active' : ''}`}\n              onClick={() => setSelectedCategory(category.key)}\n            >\n              {category.label}\n            </button>\n          ))}\n        </div>\n\n        {/* Grille d'albums */}\n        <div className=\"gallery-grid\">\n          {filteredAlbums.map(album => (\n            <Link\n              key={album.id}\n              to={`/gallery/${album.id}`}\n              className=\"gallery-item album-card\"\n            >\n              <img src={album.coverImage} alt={album.title} />\n              <div className=\"gallery-overlay\">\n                <h3>{album.title}</h3>\n                <p>{album.description}</p>\n                <span className=\"photo-count\">{album.photoCount} photos</span>\n              </div>\n            </Link>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Gallery;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}